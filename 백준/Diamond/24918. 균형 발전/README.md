# [Diamond I] 균형 발전 - 24918 

[문제 링크](https://www.acmicpc.net/problem/24918) 

### 성능 요약

메모리: 178908 KB, 시간: 3420 ms

### 분류

자료 구조, 그래프 이론, 그래프 탐색, 트리, 세그먼트 트리, 깊이 우선 탐색, 분할 정복

### 문제 설명

<p>2062 대선에 나선 경곽당 정후는 경쟁자인 무소속 동현이를 제치고 대통령에 당선되었다!</p>

<p>정후는 자신의 공약인 <strong>지역 균형 발전</strong>을 위해 먼저 목표 지역을 트리 형태로 구성하였다. 즉, 엄선한 <em>N</em> 개의 목표 지역을 정점으로 하며 두 지역을 잇는 <em>N</em> - 1 개의 간선을 가지는 트리를 구성하였다. 트리의 루트는 경기과학고등학교가 있는 지역 1이다.</p>

<p>다음으로 정후는 <strong>발전 계획</strong>, 즉 <em>N</em> 개의 목표 지역의 활성화 순서 계획을 나타내는 길이 <em>N</em>의 순열 <em>T</em>를 수립하였다. 현재 시각은 0이며, 시각 <em>i</em>가 되었을 때 지역 <em>T<sub>i</sub></em>를 활성화한다. 이 과정에서 계획에 없던 활성화가 일어날 수도 있는데, 지역의 <strong>누적 유입 인구</strong>가 <em>C<sub>i</sub> </em>이상이 될 때이다. 지역의 <strong>누적 유입 인구</strong>는 최초에 0이다.</p>

<p>계획에 있든 없든, 지역 <em>i</em>가 활성화되면 즉시 거리가 <em>R<sub>i</sub></em> 이하인 자손 지역 모두, 즉 지역 <em>i</em>를 조상으로 가지면서 지역 <em>i</em>까지의 거리가 <em>R<sub>i</sub></em> 이하인 지역 모두에 <em>X<sub>i</sub></em>만큼의 <strong>인구 이동</strong>이 일어난다. 즉, 거리가 <em>R<sub>i</sub></em> 이하인 자식 지역 모두의 <strong>누적 유입 인구</strong>가 <em>X<sub>i</sub></em>만큼 증가한다. 활성화가 연쇄적으로 일어날 수도 있으며, 연쇄 활성화의 순서가 여러 가지가 가능할 때에는 아무 순서로 활성화가 일어난다.</p>

<p>발전 계획을 살펴보던 정후를 위해 각 지역이 활성화되는 시각을 구하자.</p>

### 입력 

 <p>첫째 줄에 하나의 정수 <em>N</em>이 주어진다. 둘째 줄부터 <em>N</em> - 1 개의 줄에 걸쳐 세 정수 <em>u<sub>i</sub></em>, <em>v<sub>i</sub></em>, <em>w<sub>i</sub></em>가 공백으로 구분되어 주어진다. 트리에서 지역 <em>u<sub>i</sub></em>와 지역 <em>v<sub>i</sub></em>가 거리 <em>w<sub>i</sub></em>의 길로 연결되어 있음을 의미한다. <em>N</em> + 1째 줄에 <em>N</em> 개의 정수 <em>T<sub>i</sub></em>가 공백으로 구분되어 주어진다. <em>N</em> + 2째 줄부터 <em>N</em> 개의 줄에 걸쳐 <em>i</em>째 줄에 세 정수 <em>C<sub>i</sub></em>, <em>R<sub>i</sub></em>, <em>X<sub>i</sub></em>가 공백으로 구분되어 주어진다.</p>

### 출력 

 <p>유일한 줄에 각 지역이 활성화되는 시각을 나타내는 <em>N</em> 개의 정수를 차례로 공백으로 구분하여 출력한다.</p>

