# [Diamond III] 고인물의 새로운 리듬게임 - 18942 

[문제 링크](https://www.acmicpc.net/problem/18942) 

### 성능 요약

메모리: 65180 KB, 시간: 576 ms

### 분류

분할 정복, 분할 정복을 사용한 최적화, 다이나믹 프로그래밍, 단조 큐를 이용한 최적화

### 문제 설명

<p>리듬게임 국가대표, 월드컵 준결승의 주역인 고인물 카루나는 리듬게임을 제패하기 위해 새로운 리듬게임을 시작했다. 이 게임은 굉장히 특이한 점수 체계를 가지고 있다.</p>

<p>이 게임은 콤보라는 시스템을 가지고 있다. 잘 모를 수도 있는 사람들을 위해 설명하자면, 곡이 시작할 때의 콤보는 0이고, 각 노트마다 노트를 치면 콤보가 1 증가하고, 노트를 치지 못하면 콤보가 끊기며 0으로 돌아간다. 먼저 나온 노트를 치거나 놓치기 전에는 그 노트를 칠 수 없다.</p>

<p>점수의 계산은 각 노트에 대한 점수 <em>A<sub>i</sub></em>와 콤보에 대한 점수 <em>C<sub>j</sub></em>, 콤보가 끊길 때의 점수 <em>P</em>에 따라 계산된다. 콤보가 클수록 콤보에 대한 점수 <em>C<sub>j</sub></em>는 작아지며, <em>i</em>번째 노트를 친 후에 콤보가 <em>j</em>가 된다면 <em>A<sub>i</sub></em> × <em>C<sub>j</sub></em>점을 얻는다. 만약 노트를 치지 못했다면 그 노트에 대한 점수는 없다. </p>

<p>또한, 노트를 놓치거나 곡이 끝나서 콤보가 끊길 때마다 <em>P</em>점을 추가로 얻는다. 즉, 콤보가 1 이상에서 0으로 바뀌거나 곡이 끝날 때 콤보가 1 이상일 경우 점수를 얻는다.</p>

<p>카루나는 엄청난 고인물이기 때문에 곡과는 상관 없이 최대<em> K</em>개의 노트를 골라서 칠 수 있다. 즉, 노트가 <em>K</em>개 이하라면 아무 노트나 선택해서 원하는 대로 칠 수 있다.</p>

<p>카루나가 칠 곡의 정보가 주어질 때, 얻을 수 있는 최대 점수를 구해 주자!</p>

### 입력 

 <p>첫째 줄에는 세 정수 <em>N</em>, <em>K,</em> <em>P</em>가 공백으로 구분되어 주어진다. <em>N</em>은 곡에 있는 노트의 수를 의미한다.</p>

<p>둘째 줄에는 <em>N</em>개의 정수가 공백으로 구분되어 주어진다. <em>i</em>번째의 수는 <em>i</em>번째 노트에 대한 점수 <i>A<sub>i</sub></i>를 의미한다.</p>

<p>셋째 줄에는 <em>N</em>개의 정수가 공백으로 구분되어 주어진다. <em>j</em>번째의 수는 콤보 <i>j</i>에 대한 점수 <em>C<sub>j</sub></em>를 의미한다.</p>

### 출력 

 <p>카루나가 얻을 수 있는 점수의 최댓값을 출력한다. </p>

